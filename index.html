<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Kuguri-Sashi Designer — v2</title>
<link rel="stylesheet" href="style.css">
<!-- jsPDF for PDF export -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <header>
    <h1>Kuguri-Sashi Pattern Designer</h1>
    <p class="muted">Create hole-punch templates and stitch guides. Export as PDF or JPEG (print-ready).</p>
  </header>

  <main>
    <aside id="controls">
      <fieldset>
        <legend>Canvas / Print</legend>
        <label>Width (mm)<input id="canvasWidth" type="number" value="140" step="1"></label>
        <label>Height (mm)<input id="canvasHeight" type="number" value="140" step="1"></label>
        <label>Preview DPI (px/mm)<input id="previewScale" type="number" value="4" step="0.1" title="Higher -> sharper preview"></label>
      </fieldset>

      <fieldset>
        <legend>Grid</legend>
        <label>Grid spacing (mm)<input id="gridSpacing" type="number" value="7" step="0.1"></label>
        <label>Dot radius (mm)<input id="dotRadius" type="number" value="0.7" step="0.1"></label>
        <label>Dot colour<input id="dotColor" type="color" value="#000000"></label>
      </fieldset>

      <fieldset>
        <legend>Patterns & Variations</legend>
        <div id="patternList"></div>
        <label>Pattern scale <input id="patternScale" type="range" min="0.2" max="2" step="0.05" value="1"></label>
        <label>Pattern colour<input id="patternColor" type="color" value="#1f77b4"></label>
      </fieldset>

      <fieldset>
        <legend>Line guide (stitch only)</legend>
        <label>Enable lines <input id="enableLines" type="checkbox"></label>
        <label>Line spacing (mm)<input id="lineSpacing" type="number" value="10" step="0.5"></label>
        <label>Line angle (deg)<input id="lineAngle" type="number" value="0" step="1"></label>
        <label>Line colour<input id="lineColor" type="color" value="#000000"></label>
        <label>Line width (mm)<input id="lineWidth" type="number" value="0.3" step="0.1"></label>
      </fieldset>

      <fieldset>
        <legend>Appearance</legend>
        <label>Background colour<input id="bgColor" type="color" value="#ffffff"></label>
      </fieldset>

      <div class="actions">
        <button id="redraw">Redraw</button>
        <button id="downloadJpeg">Download JPEG (print-ready)</button>
        <button id="downloadPdf">Download PDF (print-ready)</button>
      </div>
    </aside>

    <section id="canvasWrap">
      <canvas id="patternCanvas"></canvas>
      <p class="muted small">Preview — use export buttons for high-resolution output.</p>
    </section>
  </main>

<script src="patterns.js"></script>
<script src="app.js"></script>
</body>
</html>
